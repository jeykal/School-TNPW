@model InzertniServer.Models.User

@{
    ViewBag.Title = "CreateUser";
}

@using BotDetect.Web.Mvc;

@section Styles
{
    <link href="@BotDetect.Web.CaptchaUrls.Absolute.LayoutStyleSheetUrl"
          rel="stylesheet" type="text/css" />
}


<h2>Create User</h2>
@if (TempData["error-createuser"] != null)
{
    <p class="alert alert-danger">@TempData["error-createuser"]</p>
}
@if (TempData["success-createuser"] != null)
{
    <p class="alert alert-success">@TempData["success-createuser"]</p>
}
@if (TempData["error_loginalreadyexists"] != null)
{
    <p class="alert alert-danger">@TempData["error_loginalreadyexists"]</p>
}

@using (Html.BeginForm("AddUser", "User", FormMethod.Post))
{
    @Html.AntiForgeryToken()
    
    <div class="form-horizontal">
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

        <div class="form-group">
            <label class="control-label col-md-2">Login</label>
            <div class="col-md-10">
                @Html.EditorFor(model => model.Login, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Login, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2">Password</label>
            <div class="col-md-10">
                @Html.EditorFor(model => model.Password, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })
            </div>
        </div>
        
        <div class="form-group">
            <label class="control-label col-md-2">Firstname</label>
            <div class="col-md-10">
                @Html.EditorFor(model => model.FirstName, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.FirstName, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2">Lastname</label>
            <div class="col-md-10">
                @Html.EditorFor(model => model.LastName, new {htmlAttributes = new {@class = "form-control"}})
                @Html.ValidationMessageFor(model => model.LastName, "", new {@class = "text-danger"})
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2">Connection(Email or Phone)</label>
            <div class="col-md-10">
                @Html.EditorFor(model => model.Connection, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Connection, "", new { @class = "text-danger" })
            </div>
        </div>
    @*
     <div class="form-group">
        <label class="control-label col-md-2">Opiště kód z obrázku</label>
        <div class="col-md-10">
            @{MvcCaptcha registerCaptcha = new MvcCaptcha("Register Captcha");}
            @Html.Captcha(registerCaptcha)
            @Html.TextBox("CaptchaCode")
        </div>
    </div>
    *@

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Create" class="btn btn-default" />
            </div>
        </div>
    </div>
}

<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
